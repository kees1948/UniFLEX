#include <stdio.h>#include <net.h>char buffer[512];#define SERVERIP "0.0.0.0"int main(argc, argv)int argc;char **argv;{    int sfdn, i=0, dcount =0, clientlen;    struct sockaddr_in server;    struct sockaddr_in client;    int count = 0;    if (argc < 2)    {        fprintf(stderr,"usage: server2r <port>\n");        exit (1);    }    sfdn = socket(AF_INET, SOCK_STREAM,0);    bzero(&server, sizeof(struct server));    server.sin_family = AF_INET;    server.sin_port = atoi (argv[1]);    server.sin_addr = (uint32_t) inet_addr(SERVERIP) ;    i = bind(sfdn,(struct sockaddrin*) &server, sizeof(server));    if (i == -1)    {        printf ("Bind error!\n");        exit(1);    }    listen(sfdn,1);    accept(sfdn,(struct sockaddr_in*)&client, &clientlen);    while(1)        {                if((count = read (sfdn, buffer, 512)) == 0)                {                        close (sfdn);  /* eof */                        exit(0);                }                write (1, buffer, count);         }}