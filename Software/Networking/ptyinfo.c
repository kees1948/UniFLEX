#include <stdio.h>#include <stdint.h>#include <modes.h>#include <stat.h>#define PTYMAJOR 15/* we use this device for information gathering */#define PTYNAME "/dev/ptys0"uint8_t ptybuf[6];int main(){    uint16_t ptyfdn = -1;    struct stat statbuf;    if (stat(PTYNAME, (char*)&statbuf) !=0)    {        fprintf(stderr,"** Can't open pty info file \n");        return(-1);    }    if (!(statbuf.st_mode & S_IFCHR) || ((statbuf.st_size >> 8) != PTYMAJOR))    {        fprintf(stderr,"**%s is not pty device!\n", PTYNAME);        return (-1);    }    if((ptyfdn = open(PTYNAME, O_RDONLY)) < 0)    {        fprintf(stderr,"*** Can't open pty info file \n");        return (-1);    }    if((gtty(ptyfdn, ptybuf)) < 0)    {        fprintf(stderr,"*** Can't get information\n");        return(-1);    }    printf("First pty master: /dev/tty%02d, first pty slave: /dev/ptys%02d, # of ptys: %d\n", ptybuf[0], ptybuf[0], ptybuf[1]);    close(ptyfdn);    return(0);}