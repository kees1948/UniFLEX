 sttl Dual_Port RAM Structure pag** -- As seen by Main 6809 CPU (UniFLEX)*DPR_DMAX equ   528              max data buffer/transferDPR_FSIZ equ   528             Size of FIFO buffer         ifnc  &a,'GPP'        * UniFLEX          ifnc &a,'IOP'         * UniFLEX           base   $0 -- Shared Dual Port RAM          else           org    $0 -- Dual port RAM          endif         else          org    $E400 -- Dual port RAM         endif*dpr_strt equ    *               first address  of DPR RAM** first 240 bytes are direct page variables GPP        org     dpr_strt+224*dpr_cpu0 rmb    1               DPR -> CPU codedpr_cpu1 rmb    1               -- transaction refdpr_cpu2 rmb    1               -- var 1dpr_cpu3 rmb    1               -- var 2dpr_cpu4 rmb    1               -- var 3dpr_cpu5 rmb    1               -- var 4dpr_cpu6 rmb    1               -- var 5dpr_cpu7 rmb    1               -- var 6*cpu_dpr0 rmb    1               CPU -> DPR codecpu_dpr1 rmb    1               -- transaction refcpu_dpr2 rmb    1               -- var 1cpu_dpr3 rmb    1               -- var 2cpu_dpr4 rmb    1               -- var 3cpu_dpr5 rmb    1               -- var 4cpu_dpr6 rmb    1               -- var 5cpu_dpr7 rmb    1               -- var 6*dpr_f_cnt rmb   2               -- data counter** first 256 bytes are for DPR comm and direct page GPP         org    dpr_strt+256*dprf     rmb DPR_FSIZ       actual FIFO         org    dpr_start+(1024-16)*         rmb    12* TOP of dual port RAMSPI0TUF  equ    *dpr_fgpp rmb    1               debug data from GPPSPI0FUF  equ    *dpr_tgpp rmb    1               debug data to GPP* INT and message locationsdpr_cpuF rmb    1               Non-zero when mailbox has datacpu_dprF rmb    1               Non-zero when mailbox has data*        if     (GPP=1)** DPR Task Priority*   -- Set to make task uninterruptable while*   -- actually using the DPR*DPRPRI set 15** DPR Control structures*DPR_MXTR  equ   20              # concurrent transactions / GPP* IOP Control         base    0dpr_mbx  rmb     2               Mailbox interlock - Task id of lockerdpr_fifo rmb     2               FIFO interlock - Task id of lockerdpr_intc rmb     1               Set non-zero if message interrupt was misseddpr_tflg rmb     1               Waiting on transaction slot semaphoredpr_dba  rmb     2               dual port ram base addressdpr_irqa rmb     2               IRQ test locationdpr_ihan rmb     2               interrupt handlerdpr_tran rmb     2                transaction slots*DPR_SIZE equ    **endif