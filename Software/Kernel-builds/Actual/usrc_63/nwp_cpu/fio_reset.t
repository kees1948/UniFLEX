          sttl    FIO        Simulation Routines          pag** Reset CPU-IOP Interface* it is assumed that the FIO (DPR) sits at $0000* it sets the offsets to the sock array and to the device info*fio_reset* when here, all storage locations have been erased already*          ldx     #0          stx     fifo_get   set Q pointers          stx     fifo_put          ldx     #WZNETOF          stx     fifo_us1          ldx     #WZSKOFF          stx     fifo_us0   so that kernel CPU can see it* init the 8 SOCK structs          lda     #801        sta     wzenum,x          leax    WZSIZE,x      to next          deca          bne    01b*          ldx     fio_dsz          leax    -2,x       one from top          ldu     #1024      -- Reset Time-Out value*fio_wait  ldb     #255       Spin counter*00          tst     0,x        fio_cpuF          beq     10f*          decb          bne     00b        jump back if not ready*          leau    -1,u          cmpu    #0          bne     fio_wait          bra     fio_reset* reset OK10        rts